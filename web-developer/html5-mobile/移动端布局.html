<!DOCTYPE html><html><head><title>移动端布局</title><meta charset='utf-8'><link href='https://dn-maxiang.qbox.me/res-min/themes/marxico.css' rel='stylesheet'><style></style></head><body><div id='preview-contents' class='note-content'>
                        <div id="wmd-preview" class="preview-content"></div>
                    <div id="wmd-preview-section-3353" class="wmd-preview-section preview-content">

</div><div id="wmd-preview-section-5011" class="wmd-preview-section preview-content">

<h1 id="移动端布局">移动端布局</h1>

<p></p>

<p>html：只有设置了width=device-width，才能够获取到相应的设备的物理宽度。</p></div><div id="wmd-preview-section-4958" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="language-html hljs xml"><span class="hljs-comment">&lt;!-- 禁止缩放，width设置设备宽度 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"viewport"</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"yes"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"apple-mobile-web-app-capable"</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"black"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"apple-mobile-web-app-status-bar-style"</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"telephone=no"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"format-detection"</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"email=no"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"format-detection"</span>&gt;</span><br></code></pre>

<p>javascript：假设375px的设计稿font-size值是16px，而移动端的设计稿约定好是提供 375*2的图。所以有了以下的相应计算。假设设备宽度 = 375，那么 1 rem = 16px; 假设设备宽度 = 750，那么 1 rem = 32px;  </p></div><div id="wmd-preview-section-4905" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="language-javascript hljs"><span class="hljs-comment">/*设置设备的rem值*/</span><br>!<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{<br>  <span class="hljs-keyword">var</span> base = <span class="hljs-number">375</span>;<br>  <span class="hljs-keyword">var</span> winWid = <span class="hljs-built_in">document</span>.documentElement.clientWidth;<br>  <span class="hljs-keyword">if</span> (winWid &gt;= base) {<br>    winWid = base;<br>  }<br>  <span class="hljs-comment">/*省略到三位小数*/</span><br>  <span class="hljs-keyword">var</span> size = <span class="hljs-built_in">Math</span>.floor( winWid/<span class="hljs-number">375</span>*<span class="hljs-number">16</span> * <span class="hljs-number">1000</span>) /<span class="hljs-number">1000</span> ;<br>  <span class="hljs-built_in">document</span>.documentElement.style.fontSize = size+ <span class="hljs-string">'px'</span>;<br>}();<br><br></code></pre>

<p>基于以上设置， css 部分的设置可以是使用css处理工具来编译，也可以通过手动计算。 base是16*2，是因为我们的设计稿是 375*2， 1 rem = 32px，得到相应的rem值。</p></div><div id="wmd-preview-section-4678" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-dark"><code class="language-less hljs"><span class="hljs-variable">@base:</span> <span class="hljs-number">16</span>*<span class="hljs-number">2</span>;<br><span class="hljs-comment">// 省略到三位小数</span><br><span class="hljs-class">.px2rem</span> (<span class="hljs-variable">@attr</span>, <span class="hljs-variable">@v</span>) {<br>    <span class="hljs-attribute">@{attr}</span>: <span class="hljs-function">unit</span>( <span class="hljs-function">floor</span>(<span class="hljs-variable">@v</span>/<span class="hljs-variable">@base</span> * <span class="hljs-number">1000</span>) / <span class="hljs-number">1000</span>, rem);<br>}<br><span class="hljs-comment">//使用时</span><br><span class="hljs-class">.container</span> {<br>  <span class="hljs-class">.px2rem</span>( width, <span class="hljs-number">320</span> );<br>}<br><br><br><span class="hljs-comment">//编译后的css,如果使用css，也可以通过手动设置。</span><br><span class="hljs-class">.container</span> {<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">10rem</span>;<br>}<br><br></code></pre></div><div id="wmd-preview-section-3373" class="wmd-preview-section preview-content"></div><div id="wmd-preview-section-footnotes" class="preview-content"></div></div></body></html>